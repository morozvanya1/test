<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fitness App</title>

  <!-- Telegram WebApp (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ –≥–æ—Ç–æ–≤–æ) -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>
    body {
      margin: 0;
      padding: 16px;
      font-family: -apple-system, BlinkMacSystemFont, system-ui;
      background: #0e1621;
      color: #e7e8ea;
    }
    .card {
      background: #17212b;
      padding: 14px;
      border-radius: 14px;
      margin-bottom: 16px;
    }
    input, select, button {
      width: 100%;
      padding: 12px;
      margin-top: 8px;
      border-radius: 12px;
      border: none;
      background: #0e1621;
      color: #fff;
    }
    button {
      background: #2aabee;
      font-weight: 600;
    }
    .exercise {
      border-top: 1px solid #22303c;
      padding-top: 8px;
      margin-top: 8px;
    }
  </style>
</head>
<body>

<h1>üèãÔ∏è Fitness</h1>

<div class="card">
  <select id="exercise">
    <option value="">–í—ã–±–µ—Ä–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</option>
    <option>–ñ–∏–º –ª—ë–∂–∞</option>
    <option>–ü—Ä–∏—Å–µ–¥</option>
    <option>–°—Ç–∞–Ω–æ–≤–∞—è —Ç—è–≥–∞</option>
    <option>–ñ–∏–º –ø–ª–µ—á</option>
    <option>–ü–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è</option>
  </select>
  <input id="sets" type="number" placeholder="–ü–æ–¥—Ö–æ–¥—ã" />
  <input id="reps" type="number" placeholder="–ü–æ–≤—Ç–æ—Ä—ã" />
  <input id="weight" type="number" placeholder="–í–µ—Å (–∫–≥)" />
  <button onclick="saveWorkout()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
</div>

<div class="card">
  <h3>–ò—Å—Ç–æ—Ä–∏—è</h3>
  <div id="history"></div>
</div>

<script>
  const STORAGE_KEY = 'fitness_local'

  function getData() {
    return JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]')
  }

  function saveData(data) {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(data))
  }

  function saveWorkout() {
    const exercise = document.getElementById('exercise')
    const sets = document.getElementById('sets')
    const reps = document.getElementById('reps')
    const weight = document.getElementById('weight')

    if (!exercise.value) {
      alert('–í—ã–±–µ—Ä–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ')
      return
    }

    const data = getData()
    data.push({
      id: crypto.randomUUID(),
      name: exercise.value,
      sets: Number(sets.value),
      reps: Number(reps.value),
      weight: Number(weight.value),
      date: Date.now()
    })

    saveData(data)
    exercise.value = sets.value = reps.value = weight.value = ''
    render()
  }

  function render() {
    const history = document.getElementById('history')
    history.innerHTML = ''

    getData()
      .sort((a,b) => b.date - a.date)
      .forEach(w => {
        const div = document.createElement('div')
        div.className = 'exercise'
        div.innerHTML = `
          <b>${w.name}</b><br>
          ${w.sets} √ó ${w.reps} ‚Ä¢ ${w.weight} –∫–≥
        `
        history.appendChild(div)
      })
  }

  render()
</script>

</body>
</html>
